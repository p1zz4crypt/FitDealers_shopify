<div class="relative mt-6 border border-yellow-400 rounded-lg bg-yellow-50 px-4 py-3">

  <!-- Badge “Recomendado” -->
  <div class="absolute -top-2 right-3 bg-yellow-400 text-black text-base font-bold px-4 py-0.8 rounded shadow">
    Recomendado
  </div>

  <!-- Contenido principal -->
  <label class="flex items-center gap-3 cursor-pointer w-full" for="shipping-addon">
    <div class="mr-3 w-10 h-10 bg-yellow-400 rounded-full flex items-center justify-center shrink-0">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-black" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M9 17H7a2 2 0 00-2 2v1h2a2 2 0 004 0h4a2 2 0 004 0h2v-1a2 2 0 00-2-2h-2m0 0V9a1 1 0 00-1-1H9a1 1 0 00-1 1v8m8 0H8" />
      </svg>
    </div>

    <div class="flex-1">
      <p class="font-bold ">GARANTÍA DE ENVÍO 48HRS</p>
      <button type="button" onclick="toggleShippingInfo()" class=" underline text-black hover:text-yellow-600 transition">
        Información de envío
      </button>
    </div>

    <input type="checkbox" id="shipping-addon" class="h-5 w-5 accent-yellow-500"
           onchange="toggleShippingAddon(this)">
  </label>

  <p class="font-bold  ml-14 mt-1">$99</p>

  <!-- Sección expandible con info -->
  <div id="shipping-info" class="hidden mt-4  text-gray-700 bg-white border border-yellow-200 rounded p-4 animate-fade-in">
    <p class="font-semibold mb-2">¿Qué incluye?</p>
    <ul class="list-disc list-inside space-y-1 ml-4">
      <li>Procesamiento prioritario en menos de 48 horas</li>
      <li>Envío exprés nacional</li>
      <li>Seguimiento en tiempo real</li>
      <li>Garantía de entrega rápida</li>
    </ul>

    <p class="mt-3"><strong>Costo adicional:</strong> $99 MXN</p>

    <div class="bg-yellow-50 border border-yellow-200 text-sm p-3 mt-3 rounded">
      <strong>Nota:</strong> Esta garantía asegura procesamiento prioritario. Los tiempos finales de entrega pueden variar por ubicación.
    </div>
  </div>
</div>

<input type="hidden" name="properties[Garantía de envío 48hrs]" id="shipping-addon-property" value="">

<style>
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .animate-fade-in {
    animation: fade-in 0.3s ease-out;
  }
</style>

<script>
  function toggleShippingAddon(checkbox) {
    const hiddenInput = document.getElementById('shipping-addon-property');
    hiddenInput.value = checkbox.checked ? 'Sí ($99)' : '';
  }

  function toggleShippingInfo() {
    const info = document.getElementById('shipping-info');
    info.classList.toggle('hidden');
  }
</script>